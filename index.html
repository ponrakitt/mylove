<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏±‡∏ö</title>
<style>
  :root{
    --bg1:#ff9a9e; --bg2:#fad0c4; --card:#ffffffee; --text:#333;
    --accent:#ff4d6d; --shadow:0 12px 40px rgba(0,0,0,.15);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:"Sarabun", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", sans-serif;
    background:linear-gradient(135deg, var(--bg1), var(--bg2));
    display:flex; align-items:center; justify-content:center; padding:24px; color:var(--text);
  }
  .card{
    width:min(720px,96vw); background:var(--card); border-radius:26px; padding:28px 22px 32px;
    box-shadow:var(--shadow); text-align:center;
  }
  h1{margin:.2em 0 .3em; font-size:clamp(1.6rem,4.6vw,2.4rem)}
  p.lead{opacity:.9; margin:0 0 1.1rem}
  .buttons{display:flex; justify-content:center; gap:14px; flex-wrap:wrap}
  button{
    border:0; border-radius:16px; padding:14px 18px; cursor:pointer; transition:transform .2s, box-shadow .2s, opacity .2s;
    font-size:clamp(1rem,2.8vw,1.15rem);
  }
  #yesBtn{background:linear-gradient(135deg,#ff6b6b,#f06595); color:#fff; box-shadow:0 8px 20px rgba(240,101,149,.4)}
  #noBtn{background:#fff; color:#444; border:2px solid #e9e9e9; box-shadow:0 6px 16px rgba(0,0,0,.08)}
  #yesBtn:hover{transform:translateY(-2px) scale(1.03)}
  #noBtn:hover{transform:translateY(-1px)}

  /* Special message overlay (‡∏Å‡∏î ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢) */
  .overlay,
  .overlay-reason{
    position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.35); z-index:50;
    padding:18px;
  }
  .overlay.show,
  .overlay-reason.show{ display:grid; }

  .modal{
    width:min(760px,94vw); background:#fff; border-radius:24px; padding:24px 20px 20px; text-align:center;
    box-shadow:0 18px 50px rgba(0,0,0,.25); animation:pop .22s ease-out both;
  }
  .modal h2{margin:.1em 0 .35em; color:#e5386d; font-size:clamp(1.5rem,4.5vw,2.2rem)}
  .modal p{margin:.35em 0; font-size:clamp(1.02rem,2.6vw,1.15rem)}
  .modal .close{margin-top:14px; padding:10px 16px; border:0; border-radius:12px; background:#111; color:#fff; cursor:pointer}

  /* Reason popup detail */
  .reason-title{font-weight:700; color:#444; margin-bottom:.35rem}
  .reason-text{font-size:clamp(1.05rem,2.8vw,1.2rem)}
  .reason-count{margin-top:.35rem; opacity:.6; font-size:.95rem}

  /* Cute hearts */
  .hearts{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:60 }
  .heart{ position:absolute; font-size:22px; animation:fall 3.6s linear forwards; filter:drop-shadow(0 4px 6px rgba(0,0,0,.2)) }

  @keyframes pop{ from{transform:scale(.9); opacity:0} to{transform:scale(1); opacity:1} }
  @keyframes fall{
    0%{ transform: translateY(-10vh) rotate(0deg); opacity:0 }
    10%{ opacity:1 }
    100%{ transform: translateY(110vh) rotate(360deg); opacity:0 }
  }
</style>
</head>
<body>
  <main class="card" role="dialog" aria-labelledby="title">
    <h1 id="title">‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á ü•∫</h1>
    <p class="lead">‡∏Ç‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÇ‡∏ï‡πÑ‡∏õ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p>

    <div class="buttons" aria-live="polite">
      <button id="yesBtn" aria-label="‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢">‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢ üíò</button>
      <button id="noBtn" aria-label="‡πÑ‡∏°‡πà">‡πÑ‡∏°‡πà üòÖ</button>
    </div>
  </main>

  <!-- Special message (YES) -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="alertdialog" aria-labelledby="okTitle">
      <h2 id="okTitle">‡πÑ‡∏õ‡∏ö‡∏≠‡∏Å‡πÇ‡∏≠‡πä‡∏Ñ‡πÄ‡∏•‡∏¢‡∏¢ üíñ</h2>
      <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞</p>
      <button class="close" id="close">‡πÇ‡∏≠‡πÄ‡∏Ñ</button>
    </div>
  </div>

  <!-- Reason popup (NO) -->
  <div class="overlay-reason" id="reasonOverlay" aria-hidden="true">
    <div class="modal" role="alertdialog" aria-labelledby="reasonTitle">
      <div class="reason-title" id="reasonTitle">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏î‡∏µ</div>
      <div class="reason-text" id="reasonText"></div>
      <div class="reason-count" id="reasonCount"></div>
      <button class="close" id="reasonClose">‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö</button>
    </div>
  </div>

  <!-- Hearts layer -->
  <div class="hearts" id="hearts"></div>

<script>
  // --- Scaling logic when pressing "‡πÑ‡∏°‡πà"
  let yesScale=1.0, noScale=1.0;
  const YES_GROW=1.15, NO_SHRINK=0.85, NO_MIN=0.35, YES_MAX=3.0;

  // Reasons list (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏°‡∏≤)
  const reasons=[
    "‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ",
    "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡πÄ‡∏£‡∏≤",
    "‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏°‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏•‡∏¢",
    "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô",
    "‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß",
    "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÇ‡∏ï‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ‡πÇ‡∏ï‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞",
    "‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏ö‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡πÜ",
    "‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ô‡∏∞",
    "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞",
    "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞",
    "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞",
    "‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"
  ];
  let reasonIndex=0;

  // Elements
  const yesBtn=document.getElementById('yesBtn');
  const noBtn=document.getElementById('noBtn');
  const overlay=document.getElementById('overlay');
  const closeBtn=document.getElementById('close');

  const reasonOverlay=document.getElementById('reasonOverlay');
  const reasonClose=document.getElementById('reasonClose');
  const reasonText=document.getElementById('reasonText');
  const reasonCount=document.getElementById('reasonCount');

  const hearts=document.getElementById('hearts');

  function applyScales(){
    yesBtn.style.transform=`scale(${yesScale})`;
    noBtn.style.transform=`scale(${noScale})`;
    noBtn.style.opacity=Math.max(0.45, noScale);
    yesBtn.style.boxShadow=`0 ${Math.min(14, 6*yesScale)}px ${Math.min(32, 20*yesScale)}px rgba(240,101,149,.45)`;
  }

  function sprinkleHearts(count=80){
    hearts.innerHTML="";
    const emojis=["üíñ","üíò","‚ù§Ô∏è","üíû","üíì","üíó","üíï"];
    const vw=Math.max(document.documentElement.clientWidth||0, window.innerWidth||0);
    for(let i=0;i<count;i++){
      const s=document.createElement('span');
      s.className='heart';
      s.textContent=emojis[Math.floor(Math.random()*emojis.length)];
      s.style.left=(Math.random()*vw)+"px";
      s.style.animationDuration=(3+Math.random()*2)+"s";
      s.style.animationDelay=(Math.random()*0.8)+"s";
      s.style.fontSize=(18+Math.random()*22)+"px";
      hearts.appendChild(s);
    }
    setTimeout(()=>{hearts.innerHTML="";},6000);
  }

  // Show/Hide helpers
  function show(el){ el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
  function hide(el){ el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }

  // Click "‡πÑ‡∏°‡πà" -> show reason popup (with counter)
  noBtn.addEventListener('click', ()=>{
    const idx=reasonIndex % reasons.length;
    reasonText.textContent="‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤‚Ä¶ "+reasons[idx];
    reasonCount.textContent=`(${idx+1}/${reasons.length})`;
    show(reasonOverlay);

    // Scale buttons each time
    yesScale=Math.min(YES_MAX, yesScale*YES_GROW);
    noScale=Math.max(NO_MIN, noScale*NO_SHRINK);
    applyScales();

    reasonIndex++;

    // Subtle button tap anim
    noBtn.animate([{transform:`scale(${noScale})`},{transform:`scale(${noScale*0.95})`},{transform:`scale(${noScale})`}], {duration:180});
    yesBtn.animate([{transform:`scale(${yesScale*0.98})`},{transform:`scale(${yesScale})`}], {duration:180});
  });

  // Close reason popup
  reasonClose.addEventListener('click', ()=> hide(reasonOverlay));
  reasonOverlay.addEventListener('click', (e)=>{ if(e.target===reasonOverlay) hide(reasonOverlay); });

  // Click "‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢" -> special message + hearts
  yesBtn.addEventListener('click', ()=>{
    show(overlay);
    sprinkleHearts(90);
  });
  closeBtn.addEventListener('click', ()=> hide(overlay));
  overlay.addEventListener('click', (e)=>{ if(e.target===overlay) hide(overlay); });

  // Initial
  applyScales();

  // Keep button within screen when scaled big
  const ro=new ResizeObserver(()=>{
    const maxButtonWidth=Math.min(window.innerWidth*0.9,640);
    yesBtn.style.maxWidth=maxButtonWidth+"px";
  });
  ro.observe(document.body);
</script>
</body>
</html>
